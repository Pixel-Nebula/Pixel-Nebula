<!doctype HTML>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../../Pictures/Logo.png">

	<title>PixelNebula</title>

	<!-- Google -->
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1477355143669983"
			crossorigin="anonymous"></script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-RN2RSBQT28"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-RN2RSBQT28');
	</script>

	<link rel="stylesheet" href="style.css" />
	<link rel="stylesheet" async href="app-store-interstitial.css" />

	<script src="scripts/extra.min.js"></script>
	<script src="poki-sdk.js"></script>
</head>
<body onload="checkLoginStatus()">
	<script src="scripts/bootstrap.min.js"></script>
</body>
</html>

<script>
	function checkLoginStatus() {
const cookies = document.cookie.split(';').reduce((acc, cookie) => {
	const [key, value] = cookie.split('=').map(c => c.trim());
	acc[key] = value;
	return acc;
}, {});

const idToken = cookies.IDToken;

if (idToken) {
	fetch(`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${idToken}`)
		.then(response => response.json())
		.then(data => {})
		.catch(error => {
			console.error('Error validating token:', error);
			// Clear the cookie and redirect to index.html if token validation fails
			document.cookie = "IDToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
			window.location.href = '../../index.html';
		});
} else {
	// Redirect to index.html if no ID Token is found
	window.location.href = '../../index.html';
}
}
</script>